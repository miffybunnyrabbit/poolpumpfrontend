<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mobile Website</title>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: #b6bfde;
    }
    /* The header has a 20px top margin (buffer) */
    .header {
      position: relative;
      margin-top: 20px;
    }
    /* Mobile background image spans full width and is moved up by 80px */
    .header img.mobilebg {
      display: block;
      width: 100%;
      height: auto;
      margin-top: -80px;
    }
    /* Center the logo horizontally and position it 100px from the top */
    .logo {
      position: absolute;
      top: 100px;
      left: 50%;
      transform: translateX(-50%);
      width: 80%;
    }
    /* Help button positioned at the bottom right and made bigger */
    .help {
      position: fixed;
      bottom: 3%;
      right: 10%;
      width: 17%;
      cursor: pointer;
      z-index: 1000;
    }
    /* Connect button positioned to the left of the help button */
    .connect {
      position: fixed;
      bottom: 3%;
      right: 46%;
      width: 45%;
      cursor: pointer;
      z-index: 1000;
    }
    /* Modal styles */
    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: rgba(0,0,0,0.7);
      z-index: 2000;
      justify-content: center;
      align-items: center;
    }
    /* The modal frame shows the PNG as a frame.
       A fixed height is applied so the frame displays properly. */
    .modal-frame {
      position: relative;
      width: 90%;
      height: 80vh;  /* Fixed height to display the frame */
      background: url(assets/mobilePopup.png) no-repeat center center;
      background-size: contain;
    }
    /* Close button in the top right corner of the modal frame */
    .close-button {
      position: absolute;
      top: 6.5%;
      right: 3%;
      width: 7%;
      cursor: pointer;
      z-index: 2100;
    }
    /* Scrollable section inside the frame.
       Adjust the inset values as needed to match your frame design.
       The background is set to transparent and the font is set to Press Start 2P. */
    .scrollable-content {
      position: absolute;
      top: 15%;
      bottom: 15%;
      left: 10%;
      right: 10%;
      overflow-y: auto;
      padding: 10px;
      background: transparent;
      font-family: 'Press Start 2P', cursive;
      color: #000;
    }
    /* Pool buttons container styled for side-by-side layout */
    .pool-buttons {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
    }
    .pool-buttons img {
      width: 48%;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="header">
    <img src="assets/mobilebg.gif" alt="Mobile Background" class="mobilebg">
    <img src="assets/logo.gif" alt="Logo" class="logo">
  </div>
  <!-- Connect button placed to the left of the help button -->
  <img src="assets/connectedon.png" alt="Connect Button" class="connect">
  <!-- Help button fixed to the bottom right -->
  <img src="assets/helpOn.png" alt="Help Button" class="help">
  
  <!-- Modal with frame, close button, and scrollable content inside -->
  <div class="modal" id="modal">
    <div class="modal-frame">
      <!-- Close button in top right corner of the modal frame -->
      <img src="assets/close.png" alt="Close Button" class="close-button">
      <div class="scrollable-content">
        <!-- Place your scrollable content here -->
        <p>WHAT IS IT: Weâ€™re here to save your bags!</p>
        <p>Pool any Token - and pump it!</p>
        <br>
        <p>HOW DOES IT WORK:</p>
        <p>Step 1: Connect your wallet!</p>
        <p>Step 2: Pool your token</p>
        <p>You and your friends deposit into the pool. Once the pool reaches $420k then...</p>
        <p>Step 3: Pump it!</p>
        <p>borrow DAI at 50% LTV, buy more TOKEN, then deposit to bring LTV down to 33%, giving users 1.5x spot leverage in one-click.</p>
        <br>
        <p>Coming soon!</p>
        <!-- Pool buttons container added at the bottom -->
        <div class="pool-buttons">
          <img src="assets/poolon.png" alt="Pool Button" class="pool-button">
          <img src="assets/pumpon.png" alt="Pump Button" class="pump-button">
        </div>
      </div>
    </div>
  </div>
  
  <script>
    // Help button functionality: change image while pressed.
    var helpButton = document.querySelector('.help');
    helpButton.addEventListener('mousedown', function() {
      helpButton.src = "assets/helpOff.png";
    });
    helpButton.addEventListener('mouseup', function() {
      helpButton.src = "assets/helpOn.png";
    });
    helpButton.addEventListener('touchstart', function() {
      helpButton.src = "assets/helpOff.png";
    });
    helpButton.addEventListener('touchend', function() {
      helpButton.src = "assets/helpOn.png";
    });
    
    // Connect button functionality: change image while pressed.
    var connectButton = document.querySelector('.connect');
    connectButton.addEventListener('mousedown', function() {
      connectButton.src = "assets/connectedoff.png";
    });
    connectButton.addEventListener('mouseup', function() {
      connectButton.src = "assets/connectedon.png";
    });
    connectButton.addEventListener('touchstart', function() {
      connectButton.src = "assets/connectedoff.png";
    });
    connectButton.addEventListener('touchend', function() {
      connectButton.src = "assets/connectedon.png";
    });
    
    // Pool button functionality: change image while pressed.
    var poolButton = document.querySelector('.pool-button');
    poolButton.addEventListener('mousedown', function() {
      poolButton.src = "assets/pooloff.png";
    });
    poolButton.addEventListener('mouseup', function() {
      poolButton.src = "assets/poolon.png";
    });
    poolButton.addEventListener('touchstart', function() {
      poolButton.src = "assets/pooloff.png";
    });
    poolButton.addEventListener('touchend', function() {
      poolButton.src = "assets/poolon.png";
    });
    
    // Pump button functionality: change image while pressed.
    var pumpButton = document.querySelector('.pump-button');
    pumpButton.addEventListener('mousedown', function() {
      pumpButton.src = "assets/pumpoff.png";
    });
    pumpButton.addEventListener('mouseup', function() {
      pumpButton.src = "assets/pumpon.png";
    });
    pumpButton.addEventListener('touchstart', function() {
      pumpButton.src = "assets/pumpoff.png";
    });
    pumpButton.addEventListener('touchend', function() {
      pumpButton.src = "assets/pumpon.png";
    });
    
    // Modal functionality: show modal when help button is clicked.
    var modal = document.getElementById('modal');
    helpButton.addEventListener('click', function() {
      modal.style.display = "flex";
    });
    // Close modal when clicking outside the modal frame.
    modal.addEventListener('click', function(e) {
      if (e.target === modal) {
        modal.style.display = "none";
      }
    });
    // Close modal when clicking the close button.
    var closeButton = document.querySelector('.close-button');
    closeButton.addEventListener('click', function(e) {
      modal.style.display = "none";
      e.stopPropagation();
    });
    
    // Connect button MetaMask connection functionality.
    connectButton.addEventListener('click', function(e) {
      // Check if MetaMask's Ethereum provider is available.
      if (typeof window.ethereum !== 'undefined') {
        window.ethereum.request({ method: 'eth_requestAccounts' })
          .then(function(accounts) {
            console.log("Connected account:", accounts[0]);
            // Optionally, update UI to reflect the connected account.
          })
          .catch(function(error) {
            console.error("Error connecting to MetaMask:", error);
          });
      } else {
        alert("MetaMask not found. Please install MetaMask on your mobile device.");
      }
    });
  </script>
</body>
</html>
